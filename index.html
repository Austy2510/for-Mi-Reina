<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Surprise for You ‚ù§Ô∏è</title>

    <!-- Social Share Metadata -->
    <meta property="og:title" content="A Surprise for You ‚ù§Ô∏è">
    <meta property="og:description" content="A special message is waiting...">
    <meta property="og:image" content="https://emojicdn.elk.sh/‚ù§Ô∏è">
    <meta property="og:type" content="website">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Outfit:wght@300;400;600&display=swap"
        rel="stylesheet">

    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

    <style>
        :root {
            --primary-pink: #ffd1dc;
            --deep-red: #c21e56;
            --soft-white: #ffffff;
            --glass-bg: rgba(255, 255, 255, 0.25);
            --glass-border: rgba(255, 255, 255, 0.4);
            --text-color: #4a1526;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: linear-gradient(135deg, #fdfbfb 0%, #ebedee 100%);
            background-color: #ffe6ea;
            color: var(--text-color);
            overflow-x: hidden;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        /* Floating Hearts Background */
        .hearts-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .heart {
            position: absolute;
            bottom: -50px;
            background-color: var(--primary-pink);
            display: inline-block;
            height: 30px;
            margin: 0 10px;
            top: 0;
            transform: rotate(-45deg);
            width: 30px;
            opacity: 0;
            animation: float 6s linear infinite;
        }

        .heart:before,
        .heart:after {
            content: "";
            background-color: var(--primary-pink);
            border-radius: 50%;
            height: 30px;
            position: absolute;
            width: 30px;
        }

        .heart:before {
            top: -15px;
            left: 0;
        }

        .heart:after {
            left: 15px;
            top: 0;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) scale(0.5) rotate(-45deg);
                opacity: 0;
            }

            20% {
                opacity: 0.6;
            }

            100% {
                transform: translateY(-20vh) scale(1.2) rotate(-45deg);
                opacity: 0;
            }
        }

        /* Container Styles */
        .container {
            position: relative;
            z-index: 1;
            width: 90%;
            max-width: 500px;
            text-align: center;
        }

        /* Glassmorphism Card */
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 40px 30px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        /* Entry Screen */
        .entry-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }

        .input-group {
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .date-row {
            display: flex;
            gap: 10px;
            align-items: center;
            width: 100%;
        }

        .helper-btn {
            background: rgba(255, 255, 255, 0.5);
            color: var(--text-color);
            border: 1px solid var(--glass-border);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            margin-top: -5px;
            transition: all 0.2s;
        }

        .helper-btn:hover {
            background: white;
            color: var(--deep-red);
        }

        .paste-btn {
            background: var(--deep-red);
            color: white;
            border: none;
            padding: 0 15px;
            border-radius: 50%;
            height: 45px;
            width: 45px;
            font-size: 1.2rem;
            cursor: pointer;
            display: none;
            /* Hidden by default */
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
            animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        @keyframes popIn {
            from {
                transform: scale(0);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .gift-icon {
            font-size: 80px;
            margin-bottom: 20px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {

            0%,
            20%,
            50%,
            80%,
            100% {
                transform: translateY(0);
            }

            40% {
                transform: translateY(-20px);
            }

            60% {
                transform: translateY(-10px);
            }
        }

        h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: var(--deep-red);
            margin-bottom: 10px;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        input {
            width: 100%;
            padding: 15px;
            border-radius: 50px;
            border: 2px solid var(--glass-border);
            background: rgba(255, 255, 255, 0.8);
            font-family: inherit;
            font-size: 1rem;
            outline: none;
            text-align: center;
            transition: border-color 0.3s ease;
        }

        input:focus {
            border-color: var(--deep-red);
        }

        button {
            background: var(--deep-red);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease, background-color 0.2s ease;
            box-shadow: 0 4px 15px rgba(194, 30, 86, 0.3);
        }

        button:hover {
            transform: scale(1.05);
            background-color: #a01846;
        }

        /* Main Content - Hidden Initially */
        .main-content {
            display: none;
            /* Changed via JS */
            opacity: 0;
            flex-direction: column;
            gap: 25px;
        }

        .greeting {
            font-size: 3rem;
            font-family: 'Dancing Script', cursive;
            color: var(--deep-red);
        }

        .letter-content {
            text-align: left;
            font-size: 1.05rem;
            color: #555;
            padding: 20px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 15px;
        }

        .hug-section {
            margin-top: 20px;
        }

        .hug-display {
            display: none;
            font-size: 80px;
            margin-top: 20px;
            animation: pulsate 1.5s infinite;
        }

        @keyframes pulsate {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.2);
            }

            100% {
                transform: scale(1);
            }
        }

        .timer {
            margin-top: 30px;
            font-size: 0.9rem;
            color: #777;
            background: rgba(255, 255, 255, 0.5);
            padding: 10px 20px;
            border-radius: 30px;
            display: inline-block;
        }

        /* Mobile Adjustments */
        @media (max-width: 480px) {
            .container {
                width: 95%;
                padding: 10px;
            }

            .glass-card {
                padding: 30px 20px;
                border-radius: 15px;
                /* Slightly less rounded for more space */
            }

            h1 {
                font-size: 2rem;
                line-height: 1.2;
            }

            .gift-icon {
                font-size: 60px;
                /* Smaller icon */
                margin-bottom: 15px;
            }

            .greeting {
                font-size: 2.2rem;
            }

            p {
                font-size: 1rem;
            }

            /* Prevent iOS zoom on inputs */
            input {
                font-size: 16px;
                padding: 12px;
            }

            /* Stack buttons or ensure full width */
            button.main-btn {
                width: 100%;
                padding: 12px 20px;
            }

            .paste-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }

            .helper-btn {
                font-size: 0.75rem;
                padding: 8px 10px;
            }

            .letter-content {
                padding: 15px;
            }
        }

        /* Small mobile devices */
        @media (max-width: 350px) {
            h1 {
                font-size: 1.8rem;
            }

            .greeting {
                font-size: 1.8rem;
            }

            .gift-icon {
                font-size: 50px;
            }
        }

        .hidden {
            display: none !important;
        }

        .fade-in {
            animation: fadeIn 1.5s forwards;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }
    </style>
</head>

<body>

    <!-- Parallax Hearts Background -->
    <div class="hearts-bg" id="hearts-container">
        <!-- Hearts generated by JS -->
    </div>

    <!-- Hidden Audio Player -->
    <!-- Using Satie's Gymnopedie No.1 - Public Domain / Creative Commons -->
    <audio id="bg-music" loop>
        <source src="https://upload.wikimedia.org/wikipedia/commons/e/e5/Gymnopedie_No_1.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio>

    <!-- Particle Heart Background -->
    <canvas id="pinkboard"></canvas>
    <style>
        #pinkboard {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            /* Behind everything */
            pointer-events: none;
            /* Let clicks pass through */
        }
    </style>

    <div class="container">

        <!-- Entry Screen -->
        <!-- Entry Screen -->
        <div id="entry-screen" class="glass-card entry-screen">
            <div class="gift-icon">üéÅ</div>
            <h1>For someone special...</h1>
            <p>A special message is locked away inside.</p>

            <div class="input-group">
                <div class="date-row">
                    <input type="text" id="date-input" placeholder="Date you said yes? (DD.MM.YY)" autocomplete="off">
                    <button id="paste-btn" class="paste-btn" title="Paste Date">üìã</button>
                </div>
                <button id="copy-btn" class="helper-btn">If you don't remember, click here to copy</button>
            </div>

            <button id="unlock-btn">Unlock ‚ù§Ô∏è</button>
        </div>

        <!-- Main Content -->
        <div id="main-content" class="glass-card main-content">
            <div class="greeting" id="greeting-text">Mi Reina,</div>

            <div class="letter-content" style="position: relative;">
                <!-- Stickers -->

                <!-- Personal Photos -->
                <img src="./images/photo_her.jpg" alt="Zinia" class="sticker sticker-photo sticker-her">
                <img src="./images/photo_me.png" alt="Austin" class="sticker sticker-photo sticker-me">

                <!-- Accents (AI Generated) -->
                <img src="./images/hello_kitty_heart_sticker_1767203473967.png" alt="Hello Kitty"
                    class="sticker sticker-accent sticker-top-left">
                <img src="./images/spidey_kitty_sticker_1767203421990.png" alt="Spidey"
                    class="sticker sticker-accent sticker-bottom-right">

                <p>
                    Before 2025 ends, I wanted to create something just for you, Zinia, to remind you how incredibly
                    special you are to me. Since we started this journey together on May 7th, every day has felt like a
                    gift that I cherish deeply.
                </p>
                <br>
                <p>
                    Thank you for coming into my life and for being the reason I smile and laugh so much. I honestly
                    don't know where I‚Äôd be right now without you by my side. You‚Äôve seen me at my best and my worst,
                    yet you never left‚Äîand that means everything to me. You are my safe place, the person I can always
                    come home to mentally and emotionally.
                </p>
                <br>
                <p>
                    I promise to keep choosing you, Mi Reina, every single day, no matter what 2026 brings. I‚Äôm so
                    excited for all the memories we haven‚Äôt even made yet. Let‚Äôs make next year even better than this
                    one; I want to experience everything with you. You‚Äôre my favorite person, forever and always.
                </p>
                <br>
                <p style="font-weight: 600; color: var(--deep-red);">
                    I love you so much, Progga. üíåüè†‚ù§Ô∏è
                </p>
            </div>

            <style>
                .sticker {
                    position: absolute;
                    z-index: 10;
                    opacity: 0;
                    animation: stickerPop 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
                }

                /* Personal Photo Styling */
                .sticker-photo {
                    width: 75px;
                    height: 90px;
                    object-fit: cover;
                    border: 4px solid white;
                    border-bottom-width: 12px;
                    /* Polaroid style */
                    border-radius: 4px;
                    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
                }

                /* Accent Styling */
                .sticker-accent {
                    width: 60px;
                    height: auto;
                    border: 2px solid white;
                    border-radius: 10px;
                    mix-blend-mode: multiply;
                    /* Blends white background */
                }

                /* Positioning */
                .sticker-her {
                    top: -45px;
                    right: -25px;
                    transform: rotate(12deg);
                    animation-delay: 0.4s;
                }

                .sticker-me {
                    bottom: -35px;
                    left: -25px;
                    transform: rotate(-8deg);
                    animation-delay: 0.6s;
                }

                .sticker-top-left {
                    top: -25px;
                    left: -15px;
                    width: 55px;
                    transform: rotate(-15deg);
                    animation-delay: 0.8s;
                }

                .sticker-bottom-right {
                    bottom: -20px;
                    right: -10px;
                    width: 70px;
                    transform: rotate(10deg);
                    animation-delay: 1.0s;
                }

                @keyframes stickerPop {
                    from {
                        opacity: 0;
                        transform: scale(0) rotate(0deg);
                    }

                    to {
                        opacity: 1;
                        transform: scale(1) rotate(var(--rotation, 0deg));
                    }
                }

                /* Mobile Adjustments */
                @media (max-width: 480px) {
                    .sticker-photo {
                        width: 55px;
                        height: 65px;
                        border-bottom-width: 8px;
                    }

                    .sticker-accent {
                        width: 45px;
                    }

                    .sticker-her {
                        top: -30px;
                        right: -10px;
                    }

                    .sticker-me {
                        bottom: -20px;
                        left: -10px;
                    }

                    .sticker-top-left {
                        top: -15px;
                        left: -5px;
                    }

                    .sticker-bottom-right {
                        bottom: -10px;
                        right: 0px;
                    }

                    .letter-content {
                        padding-top: 20px;
                        padding-bottom: 20px;
                    }
                }
            </style>

            <div class="hug-section">
                <button id="hug-btn">Click for a Hug ü§ó</button>
                <div id="hug-display" class="hug-display">üíñ</div>
            </div>

            <div class="timer" id="timer">
                Together for: <span id="time-count">Loading...</span>
            </div>
        </div>

    </div>

    <script>
        // 1. Generate Floating Hearts
        const heartsContainer = document.getElementById('hearts-container');
        const heartCount = 20;

        for (let i = 0; i < heartCount; i++) {
            const heart = document.createElement('div');
            heart.classList.add('heart');
            heart.style.left = Math.random() * 100 + 'vw';
            heart.style.animationDuration = (Math.random() * 3 + 3) + 's'; // 3-6s
            heart.style.animationDelay = (Math.random() * 5) + 's';
            heartsContainer.appendChild(heart);
        }

        // 2. Logic for Unlock & Date
        const entryScreen = document.getElementById('entry-screen');
        const mainContent = document.getElementById('main-content');
        const unlockBtn = document.getElementById('unlock-btn');
        const dateInput = document.getElementById('date-input');
        const copyBtn = document.getElementById('copy-btn');
        const pasteBtn = document.getElementById('paste-btn');
        const greetingText = document.getElementById('greeting-text');
        const bgMusic = document.getElementById('bg-music');

        // Correct Date: May 7th, 2025
        const CORRECT_DATE_STRING = "07.05.25";

        // Helper: Validate Date
        function checkDate(input) {
            // Clean input: remove whitespace
            const clean = input.trim();
            // Allow various separators: / . , - space
            // Split into parts
            const parts = clean.split(/[\/\.\,\-\s]+/);

            if (parts.length !== 3) return false;

            let day = parseInt(parts[0]);
            let month = parseInt(parts[1]);
            let year = parseInt(parts[2]);

            const isDay7 = (day === 7);
            const isMonth5 = (month === 5);
            const isYear25 = (year === 25 || year === 2025);

            return isDay7 && isMonth5 && isYear25;
        }

        // Copy Feature
        copyBtn.addEventListener('click', () => {
            navigator.clipboard.writeText(CORRECT_DATE_STRING).then(() => {
                copyBtn.textContent = "Copied! Click the button beside the box to paste";
                pasteBtn.style.display = "flex"; // Show paste button
            });
        });

        // Paste Feature
        pasteBtn.addEventListener('click', () => {
            dateInput.value = CORRECT_DATE_STRING;
            dateInput.focus();
        });

        unlockBtn.addEventListener('click', () => {
            const dateVal = dateInput.value;

            if (!checkDate(dateVal)) {
                alert("That's not the right date! üò¢ Try: 07.05.25");
                // Visual feedback
                dateInput.style.borderColor = "red";
                setTimeout(() => dateInput.style.borderColor = "rgba(255, 255, 255, 0.4)", 1000);
                return;
            }

            // Trigger Confetti
            triggerConfetti();

            // Play Music (User interaction allowed)
            bgMusic.volume = 0.5;
            bgMusic.play().catch(e => console.log("Audio play failed:", e));

            // Update Greeting
            greetingText.textContent = "Mi Reina, I love you!";

            // Transition
            entryScreen.style.opacity = 0;
            setTimeout(() => {
                entryScreen.classList.add('hidden');
                mainContent.style.display = 'flex';
                // Trigger reflow
                void mainContent.offsetWidth;
                mainContent.style.opacity = 1;
                mainContent.classList.add('fade-in');
            }, 500);
        });

        function triggerConfetti() {
            var duration = 3000;
            var end = Date.now() + duration;

            (function frame() {
                confetti({
                    particleCount: 5,
                    angle: 60,
                    spread: 55,
                    origin: { x: 0 },
                    colors: ['#ff0000', '#ffd1dc', '#ffffff'],
                    shapes: ['heart']
                });
                confetti({
                    particleCount: 5,
                    angle: 120,
                    spread: 55,
                    origin: { x: 1 },
                    colors: ['#ff0000', '#ffd1dc', '#ffffff'],
                    shapes: ['heart']
                });

                if (Date.now() < end) {
                    requestAnimationFrame(frame);
                }
            }());
        }

        // 3. Hug Button
        const hugBtn = document.getElementById('hug-btn');
        const hugDisplay = document.getElementById('hug-display');

        hugBtn.addEventListener('click', () => {
            hugDisplay.style.display = 'block';
            hugBtn.textContent = "Sending Hugs... ü§ó";

            // More confetti for the hug!
            confetti({
                particleCount: 100,
                spread: 70,
                origin: { y: 0.6 },
                shapes: ['heart']
            });
        });

        // 4. Timer (Example: Counting up from a date)
        // Set this date to your anniversary
        const startDate = new Date('2025-05-07T00:00:00'); // CHANGE THIS DATE

        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

            document.getElementById('time-count').textContent = `${days} days and ${hours} hours`;
        }

        setInterval(updateTimer, 1000);
        updateTimer();

    </script>
    <!-- Heart Animation Script -->
    <script src="js/heart-animation.js"></script>
</body>

</html>